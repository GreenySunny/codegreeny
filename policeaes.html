<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Générateur de texte aesthetic</title>
  <style>
    body {
      background: #111;
      color: #eee;
      font-family: sans-serif;
      padding: 40px;
      max-width: 800px;
      margin: auto;
    }
    textarea {
      width: 100%;
      font-size: 1.2em;
      margin-bottom: 30px;
      background: #222;
      color: #fff;
      border: none;
      padding: 15px;
      box-sizing: border-box;
      border-radius: 6px;
      resize: vertical;
      min-height: 80px;
    }
    .style-block {
      background: #222;
      border-radius: 10px;
      padding: 15px 20px;
      margin-bottom: 20px;
    }
    .style-block h2 {
      font-size: 1.05em;
      color: #ff9;
      margin-bottom: 8px;
    }
    .output {
      font-size: 1.1em;
      word-break: break-word;
      margin-bottom: 10px;
      user-select: all;
    }
    button {
      background: #444;
      color: #fff;
      border: none;
      padding: 7px 12px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.9em;
      display: flex;
      align-items: center;
      gap: 6px;
      user-select: none;
      transition: background 0.3s;
    }
    button:hover {
      background: #666;
    }
    button .icon {
      font-size: 1.2em;
      line-height: 1;
    }
  </style>
</head>
<body>
  <h1>🎀 Générateur de texte aesthetic 🎀</h1>
  <textarea id="input">texte ici</textarea>

  <div id="results"></div>

  <script>
    const input = document.getElementById('input');
    const results = document.getElementById('results');

    const styles = [
      {
        name: "Option 1 : Fullwidth + espace fullwidth entre mots",
        transform: (text) => toFullwidthSpacedBetweenWords(text, '　')
      },
      {
        name: "Option 2 : Fullwidth + espace normal entre mots",
        transform: (text) => toFullwidthSpacedBetweenWords(text, ' ')
      },
      {
        name: "Option 3 : Texte fullwidth encadré 【﻿ 】",
        transform: (text) => `【\uFEFF ${toFullwidth(text)} 】`
      },
      {
        name: "Option 4 : 【lettres】 encadrées",
        transform: toBoxed
      },
      {
        name: "Option 5 : Souligné (a̲e̲s̲...)",
        transform: toUnderline
      },
      {
        name: "Option 6 : Double souligné (a͟e͟s͟...)",
        transform: toDoubleUnderline
      },
      {
        name: "Option 7 : Petites majuscules espacées",
        transform: toSmalls
      }
    ];

    function toFullwidth(str) {
      return str.split('').map(c => {
        const code = c.charCodeAt(0);
        if (c === ' ') return '　';
        if (code >= 33 && code <= 126) {
          return String.fromCharCode(code + 65248);
        }
        return c;
      }).join('');
    }

    // Fullwidth + espace (fullwidth ou normal) entre mots seulement
    function toFullwidthSpacedBetweenWords(str, spaceChar = ' ') {
      return str.split(' ').map(word => toFullwidth(word)).join(spaceChar);
    }

    function toBoxed(str) {
      return str.split('').map(c => (c === ' ') ? ' ' : `【${c}】`).join('');
    }

    function toUnderline(str) {
      return str.split('').map(c => c + '\u0332').join('');
    }

    function toDoubleUnderline(str) {
      return str.split('').map(c => c + '\u035F').join('');
    }

    function toSmalls(str) {
      const map = {
        a: 'ᴀ', b: 'ʙ', c: 'ᴄ', d: 'ᴅ', e: 'ᴇ', f: 'ғ', g: 'ɢ', h: 'ʜ', i: 'ɪ', j: 'ᴊ',
        k: 'ᴋ', l: 'ʟ', m: 'ᴍ', n: 'ɴ', o: 'ᴏ', p: 'ᴘ', q: 'ǫ', r: 'ʀ', s: 's', t: 'ᴛ',
        u: 'ᴜ', v: 'ᴠ', w: 'ᴡ', x: 'x', y: 'ʏ', z: 'ᴢ',
        A: 'ᴀ', B: 'ʙ', C: 'ᴄ', D: 'ᴅ', E: 'ᴇ', F: 'ғ', G: 'ɢ', H: 'ʜ', I: 'ɪ', J: 'ᴊ',
        K: 'ᴋ', L: 'ʟ', M: 'ᴍ', N: 'ɴ', O: 'ᴏ', P: 'ᴘ', Q: 'ǫ', R: 'ʀ', S: 's', T: 'ᴛ',
        U: 'ᴜ', V: 'ᴠ', W: 'ᴡ', X: 'x', Y: 'ʏ', Z: 'ᴢ',
        ' ': ' '
      };
      return str.split('').map(c => map[c] || c).join(' ');
    }

    function render() {
      const text = input.value;
      results.innerHTML = '';

      styles.forEach((styleObj, index) => {
        const transformed = styleObj.transform(text);
        const block = document.createElement('div');
        block.className = 'style-block';

        block.innerHTML = `
          <h2>${styleObj.name}</h2>
          <div class="output" id="output-${index}">${transformed}</div>
          <button id="btn-${index}" aria-label="Copier le texte">
            <span class="icon">📋</span> Copier
          </button>
        `;

        results.appendChild(block);

        const btn = document.getElementById(`btn-${index}`);
        btn.addEventListener('click', () => {
          copyToClipboard(`output-${index}`, btn);
        });
      });
    }

    function copyToClipboard(id, btn) {
      const text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text).then(() => {
        const icon = btn.querySelector('.icon');
        icon.textContent = '✅';
        btn.disabled = true;
        setTimeout(() => {
          icon.textContent = '📋';
          btn.disabled = false;
        }, 2000);
      });
    }

    input.addEventListener('input', render);
    window.copyToClipboard = copyToClipboard;

    window.onload = render;
  </script>
</body>
</html>
